<!DOCTYPE html>
<html lang="se">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="DISCO MELO, ett låg- och mellanstadiedisco i Finspång"
    />
    <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
    <link rel="manifest" href="/manifest.json" />

    <meta name="viewport" id="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>

    <style>
    body, html {
        width: 100vw;
        height: 100vh;
        margin:0;
        background-color: #e7c9e4;
    }

    iframe {
        position: absolute;

        max-width: 100vw;
        width: calc(100vh * 0.5);
        max-width: 100%;

        transform: translate(-50%);
        left: 50%;

        height: 100vh;
        border: 0;
        overflow-y: visible;
        overflow-x: hidden;
    }

    #navBarBehind {
        z-index: 0;
        position: absolute;

        top: 5vh;

        width: 100vw;
        height: calc((( 100vh * 0.5 ) / 100) * 12);

        background-color: #843395;

        filter: drop-shadow(0px 2px 6px black);
    }

    </style>
</head>

<body>
    <div id="navBarBehind"></div>
    <iframe id="iframe" src="/index.html" frameborder="0"></iframe>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            if(window.innerWidth < (window.innerHeight * 0.5)) { document.location.replace("http://localhost:3000/") };
        })

        document.addEventListener("wheel", (e) => {
            let iframe = document.getElementById("iframe")

            // get the old value of the translation (there has to be an easier way than this)
            var oldVal = parseInt(iframe.contentWindow.scrollY);

            // to make it work on IE or Chrome
            var variation = parseInt(e.deltaY);
            
            // update the body translation to simulate a scroll
            iframe.contentWindow.scrollTo(0, oldVal+ variation)

            return false;
            
        }, true)
    </script>
</body>

</html>